"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeConfig = exports.DEMO_ENDPOINT = exports.DEFAULT_ENDPOINT = exports.NAME = void 0;
const ea_bootstrap_1 = require("@chainlink/ea-bootstrap");
exports.NAME = 'DXFEED';
exports.DEFAULT_ENDPOINT = 'price';
exports.DEMO_ENDPOINT = 'https://tools.dxfeed.com/webservice/rest';
const makeConfig = (prefix) => {
    const config = ea_bootstrap_1.Requester.getDefaultConfig(prefix);
    config.name = exports.NAME;
    config.api.baseURL = config.api.baseURL || exports.DEMO_ENDPOINT;
    config.api.baseWsURL = config.api.baseWsURL || '';
    if (config.api.baseURL === exports.DEMO_ENDPOINT)
        console.warn(`Using demo endpoint: ${exports.DEMO_ENDPOINT} (Please do not use in production!)`);
    const username = ea_bootstrap_1.util.getEnv('API_USERNAME', prefix) || '';
    const password = ea_bootstrap_1.util.getEnv('API_PASSWORD', prefix) || '';
    if (username.length > 0 || password.length > 0) {
        config.api.auth = { username, password };
    }
    config.defaultEndpoint = exports.DEFAULT_ENDPOINT;
    return config;
};
exports.makeConfig = makeConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwwREFBeUQ7QUFHNUMsUUFBQSxJQUFJLEdBQUcsUUFBUSxDQUFBO0FBRWYsUUFBQSxnQkFBZ0IsR0FBRyxPQUFPLENBQUE7QUFDMUIsUUFBQSxhQUFhLEdBQUcsMENBQTBDLENBQUE7QUFFaEUsTUFBTSxVQUFVLEdBQUcsQ0FBQyxNQUFlLEVBQVUsRUFBRTtJQUNwRCxNQUFNLE1BQU0sR0FBRyx3QkFBUyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ2pELE1BQU0sQ0FBQyxJQUFJLEdBQUcsWUFBSSxDQUFBO0lBQ2xCLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxJQUFJLHFCQUFhLENBQUE7SUFDeEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFBO0lBQ2pELElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUsscUJBQWE7UUFDdEMsT0FBTyxDQUFDLElBQUksQ0FBQyx3QkFBd0IscUJBQWEscUNBQXFDLENBQUMsQ0FBQTtJQUUxRixNQUFNLFFBQVEsR0FBRyxtQkFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzFELE1BQU0sUUFBUSxHQUFHLG1CQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDMUQsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUM5QyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQTtLQUN6QztJQUNELE1BQU0sQ0FBQyxlQUFlLEdBQUcsd0JBQWdCLENBQUE7SUFFekMsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDLENBQUE7QUFoQlksUUFBQSxVQUFVLGNBZ0J0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3RlciwgdXRpbCB9IGZyb20gJ0BjaGFpbmxpbmsvZWEtYm9vdHN0cmFwJ1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnQGNoYWlubGluay90eXBlcydcblxuZXhwb3J0IGNvbnN0IE5BTUUgPSAnRFhGRUVEJ1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9FTkRQT0lOVCA9ICdwcmljZSdcbmV4cG9ydCBjb25zdCBERU1PX0VORFBPSU5UID0gJ2h0dHBzOi8vdG9vbHMuZHhmZWVkLmNvbS93ZWJzZXJ2aWNlL3Jlc3QnXG5cbmV4cG9ydCBjb25zdCBtYWtlQ29uZmlnID0gKHByZWZpeD86IHN0cmluZyk6IENvbmZpZyA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IFJlcXVlc3Rlci5nZXREZWZhdWx0Q29uZmlnKHByZWZpeClcbiAgY29uZmlnLm5hbWUgPSBOQU1FXG4gIGNvbmZpZy5hcGkuYmFzZVVSTCA9IGNvbmZpZy5hcGkuYmFzZVVSTCB8fCBERU1PX0VORFBPSU5UXG4gIGNvbmZpZy5hcGkuYmFzZVdzVVJMID0gY29uZmlnLmFwaS5iYXNlV3NVUkwgfHwgJydcbiAgaWYgKGNvbmZpZy5hcGkuYmFzZVVSTCA9PT0gREVNT19FTkRQT0lOVClcbiAgICBjb25zb2xlLndhcm4oYFVzaW5nIGRlbW8gZW5kcG9pbnQ6ICR7REVNT19FTkRQT0lOVH0gKFBsZWFzZSBkbyBub3QgdXNlIGluIHByb2R1Y3Rpb24hKWApXG5cbiAgY29uc3QgdXNlcm5hbWUgPSB1dGlsLmdldEVudignQVBJX1VTRVJOQU1FJywgcHJlZml4KSB8fCAnJ1xuICBjb25zdCBwYXNzd29yZCA9IHV0aWwuZ2V0RW52KCdBUElfUEFTU1dPUkQnLCBwcmVmaXgpIHx8ICcnXG4gIGlmICh1c2VybmFtZS5sZW5ndGggPiAwIHx8IHBhc3N3b3JkLmxlbmd0aCA+IDApIHtcbiAgICBjb25maWcuYXBpLmF1dGggPSB7IHVzZXJuYW1lLCBwYXNzd29yZCB9XG4gIH1cbiAgY29uZmlnLmRlZmF1bHRFbmRwb2ludCA9IERFRkFVTFRfRU5EUE9JTlRcblxuICByZXR1cm4gY29uZmlnXG59XG4iXX0=