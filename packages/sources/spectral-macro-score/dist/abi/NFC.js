"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTickSet = void 0;
const tslib_1 = require("tslib");
const ethers_1 = require("ethers");
const NFCABI_1 = tslib_1.__importDefault(require("./NFCABI"));
const getTickSetFunction = async (nfc, tickSetId) => {
    const tickset = await nfc.getTickSet(tickSetId);
    return tickset.map((tick) => ethers_1.BigNumber.from(tick));
};
const makeNFC = async (address, rpcUrl) => {
    const provider = new ethers_1.ethers.providers.JsonRpcProvider(rpcUrl);
    const nfc = new ethers_1.ethers.Contract(address, NFCABI_1.default.abi, provider);
    return {
        getTickSet: (tickSetId) => getTickSetFunction(nfc, tickSetId),
    };
};
const getTickSet = async (nfcAddress, rpcUrl, tickSetId) => {
    const nfc = await makeNFC(nfcAddress, rpcUrl);
    const tickSetIdBigNumber = ethers_1.BigNumber.from(tickSetId);
    return await nfc.getTickSet(tickSetIdBigNumber);
};
exports.getTickSet = getTickSet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTkZDLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FiaS9ORkMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLG1DQUEwQztBQUMxQyw4REFBNkI7QUFFN0IsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsR0FBUSxFQUFFLFNBQW9CLEVBQXdCLEVBQUU7SUFDeEYsTUFBTSxPQUFPLEdBQWdCLE1BQU0sR0FBRyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUM1RCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLGtCQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDcEQsQ0FBQyxDQUFBO0FBTUQsTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFFLE9BQWUsRUFBRSxNQUFjLEVBQWdCLEVBQUU7SUFDdEUsTUFBTSxRQUFRLEdBQUcsSUFBSSxlQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUM3RCxNQUFNLEdBQUcsR0FBRyxJQUFJLGVBQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUE0QixnQkFBTSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUN4RixPQUFPO1FBQ0wsVUFBVSxFQUFFLENBQUMsU0FBb0IsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQWdCLEdBQUksRUFBRSxTQUFTLENBQUM7S0FDekYsQ0FBQTtBQUNILENBQUMsQ0FBQTtBQUVNLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFDN0IsVUFBa0IsRUFDbEIsTUFBYyxFQUNkLFNBQWlCLEVBQ0ssRUFBRTtJQUN4QixNQUFNLEdBQUcsR0FBRyxNQUFNLE9BQU8sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDN0MsTUFBTSxrQkFBa0IsR0FBRyxrQkFBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUNwRCxPQUFPLE1BQU0sR0FBRyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQ2pELENBQUMsQ0FBQTtBQVJZLFFBQUEsVUFBVSxjQVF0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJpZ051bWJlciwgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJ1xuaW1wb3J0IE5GQ0FiaSBmcm9tICcuL05GQ0FCSSdcblxuY29uc3QgZ2V0VGlja1NldEZ1bmN0aW9uID0gYXN5bmMgKG5mYzogTkZDLCB0aWNrU2V0SWQ6IEJpZ051bWJlcik6IFByb21pc2U8QmlnTnVtYmVyW10+ID0+IHtcbiAgY29uc3QgdGlja3NldDogQmlnTnVtYmVyW10gPSBhd2FpdCBuZmMuZ2V0VGlja1NldCh0aWNrU2V0SWQpXG4gIHJldHVybiB0aWNrc2V0Lm1hcCgodGljaykgPT4gQmlnTnVtYmVyLmZyb20odGljaykpXG59XG5cbmludGVyZmFjZSBORkMge1xuICBnZXRUaWNrU2V0KHRpY2tTZXRJZDogQmlnTnVtYmVyKTogUHJvbWlzZTxCaWdOdW1iZXJbXT5cbn1cblxuY29uc3QgbWFrZU5GQyA9IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcsIHJwY1VybDogc3RyaW5nKTogUHJvbWlzZTxORkM+ID0+IHtcbiAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5Kc29uUnBjUHJvdmlkZXIocnBjVXJsKVxuICBjb25zdCBuZmMgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3MsIDxldGhlcnMuQ29udHJhY3RJbnRlcmZhY2U+TkZDQWJpLmFiaSwgcHJvdmlkZXIpXG4gIHJldHVybiB7XG4gICAgZ2V0VGlja1NldDogKHRpY2tTZXRJZDogQmlnTnVtYmVyKSA9PiBnZXRUaWNrU2V0RnVuY3Rpb24oPE5GQz4oPHVua25vd24+bmZjKSwgdGlja1NldElkKSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VGlja1NldCA9IGFzeW5jIChcbiAgbmZjQWRkcmVzczogc3RyaW5nLFxuICBycGNVcmw6IHN0cmluZyxcbiAgdGlja1NldElkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEJpZ051bWJlcltdPiA9PiB7XG4gIGNvbnN0IG5mYyA9IGF3YWl0IG1ha2VORkMobmZjQWRkcmVzcywgcnBjVXJsKVxuICBjb25zdCB0aWNrU2V0SWRCaWdOdW1iZXIgPSBCaWdOdW1iZXIuZnJvbSh0aWNrU2V0SWQpXG4gIHJldHVybiBhd2FpdCBuZmMuZ2V0VGlja1NldCh0aWNrU2V0SWRCaWdOdW1iZXIpXG59XG4iXX0=